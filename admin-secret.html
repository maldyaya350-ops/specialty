<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الصفحة السرية للأدمن</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <section id="admin-login" class="auth-gate" style="display:none;">
        <div class="auth-card glass-panel">
            <h2 class="auth-title">دخول الأدمن</h2>
            <p class="auth-subtitle">هذه الصفحة مخصصة لتسجيل دخول الإدارة فقط.</p>
            <p id="admin-login-error" class="auth-error"></p>
            <div class="input-group">
                <label for="admin-login-user">اسم المستخدم</label>
                <input id="admin-login-user" type="text" autocomplete="username" placeholder="اسم مستخدم الأدمن">
            </div>
            <div class="input-group">
                <label for="admin-login-pass">كلمة المرور</label>
                <input id="admin-login-pass" type="password" autocomplete="current-password" placeholder="كلمة مرور الأدمن">
            </div>
            <div class="input-group">
                <label for="admin-login-secret">الكود السري</label>
                <input id="admin-login-secret" type="password" autocomplete="one-time-code" placeholder="الكود السري للأدمن">
            </div>
            <div class="auth-toolbar">
                <button class="submit-btn" onclick="handleAdminLogin()">دخول</button>
                <button class="logout-btn" onclick="goHome()">العودة للرئيسية</button>
            </div>
        </div>
    </section>

    <section id="admin-unlock" class="auth-gate" style="display:none;">
        <div class="auth-card glass-panel">
            <h2 class="auth-title">تحقق إضافي</h2>
            <p class="auth-subtitle">أدخلي الكود السري لفتح لوحة الأدمن.</p>
            <p id="admin-unlock-error" class="auth-error"></p>
            <div class="input-group">
                <label for="admin-secret-input">الكود السري</label>
                <input id="admin-secret-input" type="password" autocomplete="one-time-code" placeholder="أدخلي الكود السري">
            </div>
            <div class="auth-toolbar">
                <button class="submit-btn" onclick="verifyAdminSecret()">فتح الصفحة</button>
                <button class="logout-btn" onclick="goHome()">العودة</button>
            </div>
        </div>
    </section>

    <div id="admin-page" style="display:none;">
        <nav>
            <div class="container">
                <div class="logo">الصفحة السرية للأدمن <i class="fas fa-user-shield"></i></div>
                <div class="nav-links">
                    <button class="active" onclick="goHome()">الرئيسية</button>
                    <button class="logout-btn" onclick="logoutAdmin()">خروج</button>
                </div>
            </div>
        </nav>

        <div class="container" style="padding-top: 28px;">
            <div class="stats-bar glass-panel" style="margin-bottom: 22px;">
                <div class="stat-item">
                    <h4 id="admin-stats-majors">0</h4>
                    <span>إجمالي التخصصات</span>
                </div>
                <div class="stat-item" style="border-right: 1px solid var(--border); border-left: 1px solid var(--border);">
                    <h4 id="admin-stats-users">0</h4>
                    <span>إجمالي المستخدمين</span>
                </div>
                <div class="stat-item">
                    <h4 id="admin-stats-fails">0</h4>
                    <span>محاولات فاشلة</span>
                </div>
                <div class="stat-item" style="border-right: 1px solid var(--border);">
                    <h4 id="admin-stats-updated">-</h4>
                    <span>آخر تحديث</span>
                </div>
            </div>

            <div class="admin-layout">
                <div class="form-card glass-panel">
                    <div class="admin-form">
                        <h2><i class="fas fa-plus-circle" style="color: var(--success)"></i> إضافة تخصص</h2>
                        <div class="input-group">
                            <label>اسم التخصص</label>
                            <input type="text" id="m-name" placeholder="مثال: هندسة البرمجيات">
                        </div>
                        <div class="input-group">
                            <label>التصنيف</label>
                            <select id="m-cat">
                                <option value="تقني">تقني</option>
                                <option value="صحي">صحي</option>
                                <option value="هندسي">هندسي</option>
                                <option value="إداري">إداري</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>وصف التخصص</label>
                            <textarea id="m-desc" rows="4" placeholder="اكتبي نبذة مختصرة وجذابة عن التخصص..."></textarea>
                        </div>
                        <button class="submit-btn" onclick="handle_Add()">حفظ التخصص</button>
                    </div>
                </div>

                <div class="table-card glass-panel" style="padding: 30px;">
                    <h2>قائمة التخصصات الحالية</h2>
                    <div style="overflow-x: auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>التخصص</th>
                                    <th>التصنيف</th>
                                    <th>الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="admin-table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/admin.js"></script>
</body>
</html>
